var ZY=ZY||{};ZY.dataManager={topPostId:0,lastPeopleDate:"",lastArtifactDate:"",lastCommunityDate:"",lastLandscapeDate:"",currentPostId:0,landscapeLoaded:!1,artifactLoaded:!1,communityLoaded:!1,peopleLoaded:!1,resizeTimer:null,getMusic:function(){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{action:"zy_get_music",programId:ZY.config.categoryIds.tdId},success:function(t){if(t.success)if(0!=t.data.length){var o=t.data;ZY.music.setMusicList(o)}else $("#zy_music_title").text(ZY.config.errorCode.hasNoMusic);else ZY.uiManager.showPopOut(ZY.config.errorCode.musicError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getTopPosts:function(){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{action:"zy_get_top_posts",programId:ZY.config.categoryIds.tdId},success:function(t){if(t.success){if(0!=t.data.length){var o=t.data;this.topPostId=o[0].post_id,o=ZY.controllerManager.transformDatas(o),ZY.uiManager.showTopPost(o),ZY.uiManager.showFeaturePosts(o)}}else ZY.uiManager.showPopOut(ZY.config.errorCode.postsError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getCategoryPosts:function(t){var o=ZY.controllerManager.setLoadLimit({targetContain:t.targetContain,width:t.width,categoryId:t.categoryId,isFirst:t.isFirst});$.ajax({url:ZY.config.ajaxurl,type:"post",data:{limit:o,lastDate:t.lastDate,categoryId:t.categoryId,action:"zy_get_posts"},success:function(a){if(a.success){var r=a.data;ZY.controllerManager.doResponse({targetContain:t.targetContain,posts:r,isFirst:t.isFirst,categoryId:t.categoryId,limit:o})}else ZY.uiManager.showPopOut(ZY.config.errorCode.postsError,!1);ZY.uiManager.hideLoadingSpinner($(t.targetContain))},error:function(){ZY.uiManager.hideLoadingSpinner(t.targetContain),ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getPostDetail:function(t){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{post_id:t,action:"zy_get_post_detail"},success:function(t){t.success?ZY.uiManager.showArticleDetail(t.data):ZY.uiManager.showPopOut(ZY.config.errorCode.articleError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})}};