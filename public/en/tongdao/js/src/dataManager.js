var ZY=ZY||{};ZY.dataManager={topPostId:0,lastSectionTwoDate:"",lastSectionThreeDate:"",lastSectionFourDate:"",lastSectionOneDate:"",currentPostId:0,sectionOneLoaded:!1,sectionThreeLoaded:!1,sectionFourLoaded:!1,sectionTwoLoaded:!1,resizeTimer:null,getMusic:function(){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{action:"zy_get_music",programId:ZY.config.categoryIds.tdId},success:function(o){if(o.success)if(0!=o.data.length){var t=o.data;ZY.music.setMusicList(t)}else $("#zy_music_title").text(ZY.config.errorCode.hasNoMusic);else ZY.uiManager.showPopOut(ZY.config.errorCode.musicError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getTopPosts:function(){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{action:"zy_get_top_posts",programId:ZY.config.categoryIds.tdId},success:function(o){if(o.success){if(0!=o.data.length){var t=o.data;this.topPostId=t[0].post_id,t=ZY.controllerManager.transformDatas(t),ZY.uiManager.showTopPost(t),ZY.uiManager.showFeaturePosts(t)}}else ZY.uiManager.showPopOut(ZY.config.errorCode.postsError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getCategoryPosts:function(o){var t=ZY.controllerManager.setLoadLimit({targetContain:o.targetContain,width:o.width,categoryId:o.categoryId,isFirst:o.isFirst});$.ajax({url:ZY.config.ajaxurl,type:"post",data:{limit:t,lastDate:o.lastDate,categoryId:o.categoryId,action:"zy_get_posts"},success:function(r){if(r.success){var e=r.data;ZY.controllerManager.doResponse({targetContain:o.targetContain,posts:e,isFirst:o.isFirst,categoryId:o.categoryId,limit:t})}else ZY.uiManager.showPopOut(ZY.config.errorCode.postsError,!1);ZY.uiManager.hideLoadingSpinner($(o.targetContain))},error:function(){ZY.uiManager.hideLoadingSpinner(o.targetContain),ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getPostDetail:function(o){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{post_id:o,action:"zy_get_post_detail"},success:function(o){o.success?ZY.uiManager.showArticleDetail(o.data):ZY.uiManager.showPopOut(ZY.config.errorCode.articleError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})}};