var ZY=ZY||{};ZY.dataManager={topPostId:0,lastPeopleDate:"",lastArtifactDate:"",lastCommunityDate:"",lastLandscapeDate:"",currentPostId:0,landscapeLoaded:!1,artifactLoaded:!1,communityLoaded:!1,peopleLoaded:!1,resizeTimer:null,getMusic:function(){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{action:"zy_get_music",programId:6},success:function(o){if(o.success)if(0!=o.data.length){var t=o.data;ZY.music.setMusicList(t)}else $("#zy_music_title").text(ZY.config.errorCode.hasNoMusic);else ZY.uiManager.showPopOut(ZY.config.errorCode.musicError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getTopPosts:function(){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{action:"zy_get_top_posts",programId:ZY.config.categoryIds.programId},success:function(o){if(o.success){if(0!=o.data.length){for(var t=o.data,a=t.length,r=0;a>r;r++)if(null!==t[r].background){ZY.uiManager.updateSectionBg(t[0],$("#zy_top_post_poster"));break}ZY.uiManager.showFeaturePosts(t)}}else ZY.uiManager.showPopOut(ZY.config.errorCode.postsError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getCategoryPosts:function(o){var t=ZY.controllerManager.setLoadLimit({targetContain:o.targetContain,width:o.width,categoryId:o.categoryId,isFirst:o.isFirst});$.ajax({url:ZY.config.ajaxurl,type:"post",data:{limit:t,lastDate:o.lastDate,categoryId:o.categoryId,action:"zy_get_posts"},success:function(a){if(a.success){var r=a.data;ZY.controllerManager.doResponse({targetContain:o.targetContain,posts:r,isFirst:o.isFirst,categoryId:o.categoryId,limit:t})}else ZY.uiManager.showPopOut(ZY.config.errorCode.postsError,!1);ZY.uiManager.hideLoadingSpinner($(o.targetContain))},error:function(){ZY.uiManager.hideLoadingSpinner(o.targetContain),ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})},getPostDetail:function(o){$.ajax({url:ZY.config.ajaxurl,type:"post",data:{post_id:o,action:"zy_get_post_detail"},success:function(o){o.success?ZY.uiManager.showArticleDetail(o.data):ZY.uiManager.showPopOut(ZY.config.errorCode.articleError,!1)},error:function(){ZY.uiManager.showPopOut(ZY.config.errorCode.connectionError,!1)}})}};